"use strict";
/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
(self["webpackChunk_N_E"] = self["webpackChunk_N_E"] || []).push([["node_modules_thirdweb-dev_wallets_evm_connectors_coin98_dist_thirdweb-dev-wallets-evm-connect-1a590e"],{

/***/ "./node_modules/@thirdweb-dev/wallets/dist/url-bc88b2b6.browser.esm.js":
/*!*****************************************************************************!*\
  !*** ./node_modules/@thirdweb-dev/wallets/dist/url-bc88b2b6.browser.esm.js ***!
  \*****************************************************************************/
/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

eval(__webpack_require__.ts("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   g: function() { return /* binding */ getValidPublicRPCUrl; },\n/* harmony export */   i: function() { return /* binding */ isTwUrl; }\n/* harmony export */ });\n/* harmony import */ var _thirdweb_dev_chains__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @thirdweb-dev/chains */ \"./node_modules/@thirdweb-dev/chains/dist/thirdweb-dev-chains.esm.js\");\n\n\nfunction isTwUrl(url) {\n  const host = new URL(url).hostname;\n  return host.endsWith(\".thirdweb.com\") || host === \"localhost\" || host === \"0.0.0.0\";\n}\nfunction getValidPublicRPCUrl(chain) {\n  return (0,_thirdweb_dev_chains__WEBPACK_IMPORTED_MODULE_0__.getValidChainRPCs)(chain).map(rpc => {\n    try {\n      const url = new URL(rpc);\n      // remove client id from url\n      if (url.hostname.endsWith(\".thirdweb.com\")) {\n        url.pathname = \"\";\n        url.search = \"\";\n      }\n      return url.toString();\n    } catch (e) {\n      return rpc;\n    }\n  });\n}\n\n\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9ub2RlX21vZHVsZXMvQHRoaXJkd2ViLWRldi93YWxsZXRzL2Rpc3QvdXJsLWJjODhiMmI2LmJyb3dzZXIuZXNtLmpzIiwibWFwcGluZ3MiOiI7Ozs7OztBQUF5RDs7QUFFekQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVMsdUVBQWlCO0FBQzFCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxNQUFNO0FBQ047QUFDQTtBQUNBLEdBQUc7QUFDSDs7QUFFbUQiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9fTl9FLy4vbm9kZV9tb2R1bGVzL0B0aGlyZHdlYi1kZXYvd2FsbGV0cy9kaXN0L3VybC1iYzg4YjJiNi5icm93c2VyLmVzbS5qcz85YmQ3Il0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IGdldFZhbGlkQ2hhaW5SUENzIH0gZnJvbSAnQHRoaXJkd2ViLWRldi9jaGFpbnMnO1xuXG5mdW5jdGlvbiBpc1R3VXJsKHVybCkge1xuICBjb25zdCBob3N0ID0gbmV3IFVSTCh1cmwpLmhvc3RuYW1lO1xuICByZXR1cm4gaG9zdC5lbmRzV2l0aChcIi50aGlyZHdlYi5jb21cIikgfHwgaG9zdCA9PT0gXCJsb2NhbGhvc3RcIiB8fCBob3N0ID09PSBcIjAuMC4wLjBcIjtcbn1cbmZ1bmN0aW9uIGdldFZhbGlkUHVibGljUlBDVXJsKGNoYWluKSB7XG4gIHJldHVybiBnZXRWYWxpZENoYWluUlBDcyhjaGFpbikubWFwKHJwYyA9PiB7XG4gICAgdHJ5IHtcbiAgICAgIGNvbnN0IHVybCA9IG5ldyBVUkwocnBjKTtcbiAgICAgIC8vIHJlbW92ZSBjbGllbnQgaWQgZnJvbSB1cmxcbiAgICAgIGlmICh1cmwuaG9zdG5hbWUuZW5kc1dpdGgoXCIudGhpcmR3ZWIuY29tXCIpKSB7XG4gICAgICAgIHVybC5wYXRobmFtZSA9IFwiXCI7XG4gICAgICAgIHVybC5zZWFyY2ggPSBcIlwiO1xuICAgICAgfVxuICAgICAgcmV0dXJuIHVybC50b1N0cmluZygpO1xuICAgIH0gY2F0Y2ggKGUpIHtcbiAgICAgIHJldHVybiBycGM7XG4gICAgfVxuICB9KTtcbn1cblxuZXhwb3J0IHsgZ2V0VmFsaWRQdWJsaWNSUENVcmwgYXMgZywgaXNUd1VybCBhcyBpIH07XG4iXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./node_modules/@thirdweb-dev/wallets/dist/url-bc88b2b6.browser.esm.js\n"));

/***/ }),

/***/ "./node_modules/@thirdweb-dev/wallets/evm/connectors/coin98/dist/thirdweb-dev-wallets-evm-connectors-coin98.browser.esm.js":
/*!*********************************************************************************************************************************!*\
  !*** ./node_modules/@thirdweb-dev/wallets/evm/connectors/coin98/dist/thirdweb-dev-wallets-evm-connectors-coin98.browser.esm.js ***!
  \*********************************************************************************************************************************/
/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

eval(__webpack_require__.ts("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   Coin98Connector: function() { return /* binding */ Coin98Connector; }\n/* harmony export */ });\n/* harmony import */ var _dist_defineProperty_c8ecdc07_browser_esm_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../../../dist/defineProperty-c8ecdc07.browser.esm.js */ \"./node_modules/@thirdweb-dev/wallets/dist/defineProperty-c8ecdc07.browser.esm.js\");\n/* harmony import */ var _dist_errors_3055a99c_browser_esm_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../../../dist/errors-3055a99c.browser.esm.js */ \"./node_modules/@thirdweb-dev/wallets/dist/errors-3055a99c.browser.esm.js\");\n/* harmony import */ var _dist_walletIds_006a648a_browser_esm_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../../../dist/walletIds-006a648a.browser.esm.js */ \"./node_modules/@thirdweb-dev/wallets/dist/walletIds-006a648a.browser.esm.js\");\n/* harmony import */ var _injected_dist_thirdweb_dev_wallets_evm_connectors_injected_browser_esm_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../injected/dist/thirdweb-dev-wallets-evm-connectors-injected.browser.esm.js */ \"./node_modules/@thirdweb-dev/wallets/evm/connectors/injected/dist/thirdweb-dev-wallets-evm-connectors-injected.browser.esm.js\");\n/* harmony import */ var ethers__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ethers */ \"./node_modules/ethers/lib.esm/index.js\");\n/* harmony import */ var _dist_getInjectedCoin98Provider_85eb6a2d_browser_esm_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../../../dist/getInjectedCoin98Provider-85eb6a2d.browser.esm.js */ \"./node_modules/@thirdweb-dev/wallets/dist/getInjectedCoin98Provider-85eb6a2d.browser.esm.js\");\n/* harmony import */ var eventemitter3__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! eventemitter3 */ \"./node_modules/eventemitter3/index.mjs\");\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nclass Coin98Connector extends _injected_dist_thirdweb_dev_wallets_evm_connectors_injected_browser_esm_js__WEBPACK_IMPORTED_MODULE_0__.InjectedConnector {\n  constructor(arg) {\n    const defaultOptions = {\n      name: \"Coin98 Wallet\",\n      shimDisconnect: true,\n      shimChainChangedDisconnect: true,\n      getProvider: _dist_getInjectedCoin98Provider_85eb6a2d_browser_esm_js__WEBPACK_IMPORTED_MODULE_2__.g\n    };\n    const options = {\n      ...defaultOptions,\n      ...arg.options\n    };\n    super({\n      chains: arg.chains,\n      options,\n      connectorStorage: arg.connectorStorage\n    });\n    (0,_dist_defineProperty_c8ecdc07_browser_esm_js__WEBPACK_IMPORTED_MODULE_3__._)(this, \"id\", _dist_walletIds_006a648a_browser_esm_js__WEBPACK_IMPORTED_MODULE_4__.w.coin98);\n  }\n\n  /**\n   * Connect to injected Coin98Wallet provider\n   */\n  async connect() {\n    let options = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n    try {\n      const provider = await this.getProvider();\n      if (!provider) {\n        throw new _dist_errors_3055a99c_browser_esm_js__WEBPACK_IMPORTED_MODULE_5__.a();\n      }\n      this.setupListeners();\n\n      // emit \"connecting\" event\n      this.emit(\"message\", {\n        type: \"connecting\"\n      });\n\n      // Attempt to show wallet select prompt with `wallet_requestPermissions` when\n      // `shimDisconnect` is active and account is in disconnected state (flag in storage)\n      let account = null;\n      if (this.options?.shimDisconnect && !Boolean(this.connectorStorage.getItem(this.shimDisconnectKey))) {\n        account = await this.getAccount().catch(() => null);\n        const isConnected = !!account;\n        if (isConnected) {\n          // Attempt to show another prompt for selecting wallet if already connected\n          try {\n            await provider.request({\n              method: \"wallet_requestPermissions\",\n              params: [{\n                eth_accounts: {}\n              }]\n            });\n          } catch (error) {\n            // Not all injected providers support `wallet_requestPermissions` (e.g. iOS).\n            // Only bubble up error if user rejects request\n            if (this.isUserRejectedRequestError(error)) {\n              throw new _dist_errors_3055a99c_browser_esm_js__WEBPACK_IMPORTED_MODULE_5__.U(error);\n            }\n          }\n        }\n      }\n\n      // if account is not already set, request accounts and use the first account\n      if (!account) {\n        const accounts = await provider.request({\n          method: \"eth_requestAccounts\"\n        });\n        account = ethers__WEBPACK_IMPORTED_MODULE_6__.utils.getAddress(accounts[0]);\n      }\n\n      // get currently connected chainId\n      let connectedChainId = await this.getChainId();\n      // check if connected chain is unsupported\n      let isUnsupported = this.isChainUnsupported(connectedChainId);\n\n      // if chainId is given, but does not match the currently connected chainId, switch to the given chainId\n      if (options.chainId && connectedChainId !== options.chainId) {\n        try {\n          await this.switchChain(options.chainId);\n          // recalculate the chainId and isUnsupported\n          connectedChainId = options.chainId;\n          isUnsupported = this.isChainUnsupported(options.chainId);\n        } catch (e) {\n          console.error(`Could not switch to chain id : ${options.chainId}`, e);\n        }\n      }\n\n      // if shimDisconnect is enabled\n      if (this.options?.shimDisconnect) {\n        // add shimDisconnectKey in storage - this signals that connector is \"connected\"\n        await this.connectorStorage.setItem(this.shimDisconnectKey, \"true\");\n      }\n      const connectionInfo = {\n        chain: {\n          id: connectedChainId,\n          unsupported: isUnsupported\n        },\n        provider: provider,\n        account\n      };\n      this.emit(\"connect\", connectionInfo);\n      return connectionInfo;\n    } catch (error) {\n      if (this.isUserRejectedRequestError(error)) {\n        throw new _dist_errors_3055a99c_browser_esm_js__WEBPACK_IMPORTED_MODULE_5__.U(error);\n      }\n      if (error.code === -32002) {\n        throw new _dist_errors_3055a99c_browser_esm_js__WEBPACK_IMPORTED_MODULE_5__.R(error);\n      }\n      throw error;\n    }\n  }\n}\n\n\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9ub2RlX21vZHVsZXMvQHRoaXJkd2ViLWRldi93YWxsZXRzL2V2bS9jb25uZWN0b3JzL2NvaW45OC9kaXN0L3RoaXJkd2ViLWRldi13YWxsZXRzLWV2bS1jb25uZWN0b3JzLWNvaW45OC5icm93c2VyLmVzbS5qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7OztBQUErRjtBQUM2RDtBQUN4RTtBQUNnQztBQUNyRjtBQUNxRjtBQUM3QztBQUNBO0FBQ2pCO0FBQ3hCO0FBQ21DO0FBQzFDO0FBQzRDOztBQUVuRSw4QkFBOEIseUhBQWlCO0FBQy9DO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxtQkFBbUIsc0ZBQXlCO0FBQzVDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTCxJQUFJLCtFQUFlLGFBQWEsc0VBQVM7QUFDekM7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGtCQUFrQixtRUFBc0I7QUFDeEM7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQSxPQUFPOztBQUVQO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsZUFBZTtBQUNmLGFBQWE7QUFDYixZQUFZO0FBQ1o7QUFDQTtBQUNBO0FBQ0Esd0JBQXdCLG1FQUF3QjtBQUNoRDtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVCxrQkFBa0IseUNBQUs7QUFDdkI7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxVQUFVO0FBQ1YsMERBQTBELGdCQUFnQjtBQUMxRTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsTUFBTTtBQUNOO0FBQ0Esa0JBQWtCLG1FQUF3QjtBQUMxQztBQUNBO0FBQ0Esa0JBQWtCLG1FQUF3QjtBQUMxQztBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUUyQiIsInNvdXJjZXMiOlsid2VicGFjazovL19OX0UvLi9ub2RlX21vZHVsZXMvQHRoaXJkd2ViLWRldi93YWxsZXRzL2V2bS9jb25uZWN0b3JzL2NvaW45OC9kaXN0L3RoaXJkd2ViLWRldi13YWxsZXRzLWV2bS1jb25uZWN0b3JzLWNvaW45OC5icm93c2VyLmVzbS5qcz9lZWQwIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IF8gYXMgX2RlZmluZVByb3BlcnR5IH0gZnJvbSAnLi4vLi4vLi4vLi4vZGlzdC9kZWZpbmVQcm9wZXJ0eS1jOGVjZGMwNy5icm93c2VyLmVzbS5qcyc7XG5pbXBvcnQgeyBhIGFzIENvbm5lY3Rvck5vdEZvdW5kRXJyb3IsIFUgYXMgVXNlclJlamVjdGVkUmVxdWVzdEVycm9yLCBSIGFzIFJlc291cmNlVW5hdmFpbGFibGVFcnJvciB9IGZyb20gJy4uLy4uLy4uLy4uL2Rpc3QvZXJyb3JzLTMwNTVhOTljLmJyb3dzZXIuZXNtLmpzJztcbmltcG9ydCB7IHcgYXMgd2FsbGV0SWRzIH0gZnJvbSAnLi4vLi4vLi4vLi4vZGlzdC93YWxsZXRJZHMtMDA2YTY0OGEuYnJvd3Nlci5lc20uanMnO1xuaW1wb3J0IHsgSW5qZWN0ZWRDb25uZWN0b3IgfSBmcm9tICcuLi8uLi9pbmplY3RlZC9kaXN0L3RoaXJkd2ViLWRldi13YWxsZXRzLWV2bS1jb25uZWN0b3JzLWluamVjdGVkLmJyb3dzZXIuZXNtLmpzJztcbmltcG9ydCB7IHV0aWxzIH0gZnJvbSAnZXRoZXJzJztcbmltcG9ydCB7IGcgYXMgZ2V0SW5qZWN0ZWRDb2luOThQcm92aWRlciB9IGZyb20gJy4uLy4uLy4uLy4uL2Rpc3QvZ2V0SW5qZWN0ZWRDb2luOThQcm92aWRlci04NWViNmEyZC5icm93c2VyLmVzbS5qcyc7XG5pbXBvcnQgJy4uLy4uLy4uLy4uL2Rpc3QvY2xhc3NQcml2YXRlRmllbGRTZXQtYTVkYjdjODMuYnJvd3Nlci5lc20uanMnO1xuaW1wb3J0ICcuLi8uLi8uLi8uLi9kaXN0L2Fzc2VydFdpbmRvd0V0aGVyZXVtLWI0OGMxNjg2LmJyb3dzZXIuZXNtLmpzJztcbmltcG9ydCAnLi4vLi4vLi4vLi4vZGlzdC91cmwtYmM4OGIyYjYuYnJvd3Nlci5lc20uanMnO1xuaW1wb3J0ICdAdGhpcmR3ZWItZGV2L2NoYWlucyc7XG5pbXBvcnQgJy4uLy4uLy4uLy4uL2Rpc3QvV2FnbWlDb25uZWN0b3ItMmYxNDAwMmQuYnJvd3Nlci5lc20uanMnO1xuaW1wb3J0ICdldmVudGVtaXR0ZXIzJztcbmltcG9ydCAnLi4vLi4vLi4vLi4vZGlzdC9ub3JtYWxpemVDaGFpbklkLWU0Y2MwMTc1LmJyb3dzZXIuZXNtLmpzJztcblxuY2xhc3MgQ29pbjk4Q29ubmVjdG9yIGV4dGVuZHMgSW5qZWN0ZWRDb25uZWN0b3Ige1xuICBjb25zdHJ1Y3RvcihhcmcpIHtcbiAgICBjb25zdCBkZWZhdWx0T3B0aW9ucyA9IHtcbiAgICAgIG5hbWU6IFwiQ29pbjk4IFdhbGxldFwiLFxuICAgICAgc2hpbURpc2Nvbm5lY3Q6IHRydWUsXG4gICAgICBzaGltQ2hhaW5DaGFuZ2VkRGlzY29ubmVjdDogdHJ1ZSxcbiAgICAgIGdldFByb3ZpZGVyOiBnZXRJbmplY3RlZENvaW45OFByb3ZpZGVyXG4gICAgfTtcbiAgICBjb25zdCBvcHRpb25zID0ge1xuICAgICAgLi4uZGVmYXVsdE9wdGlvbnMsXG4gICAgICAuLi5hcmcub3B0aW9uc1xuICAgIH07XG4gICAgc3VwZXIoe1xuICAgICAgY2hhaW5zOiBhcmcuY2hhaW5zLFxuICAgICAgb3B0aW9ucyxcbiAgICAgIGNvbm5lY3RvclN0b3JhZ2U6IGFyZy5jb25uZWN0b3JTdG9yYWdlXG4gICAgfSk7XG4gICAgX2RlZmluZVByb3BlcnR5KHRoaXMsIFwiaWRcIiwgd2FsbGV0SWRzLmNvaW45OCk7XG4gIH1cblxuICAvKipcbiAgICogQ29ubmVjdCB0byBpbmplY3RlZCBDb2luOThXYWxsZXQgcHJvdmlkZXJcbiAgICovXG4gIGFzeW5jIGNvbm5lY3QoKSB7XG4gICAgbGV0IG9wdGlvbnMgPSBhcmd1bWVudHMubGVuZ3RoID4gMCAmJiBhcmd1bWVudHNbMF0gIT09IHVuZGVmaW5lZCA/IGFyZ3VtZW50c1swXSA6IHt9O1xuICAgIHRyeSB7XG4gICAgICBjb25zdCBwcm92aWRlciA9IGF3YWl0IHRoaXMuZ2V0UHJvdmlkZXIoKTtcbiAgICAgIGlmICghcHJvdmlkZXIpIHtcbiAgICAgICAgdGhyb3cgbmV3IENvbm5lY3Rvck5vdEZvdW5kRXJyb3IoKTtcbiAgICAgIH1cbiAgICAgIHRoaXMuc2V0dXBMaXN0ZW5lcnMoKTtcblxuICAgICAgLy8gZW1pdCBcImNvbm5lY3RpbmdcIiBldmVudFxuICAgICAgdGhpcy5lbWl0KFwibWVzc2FnZVwiLCB7XG4gICAgICAgIHR5cGU6IFwiY29ubmVjdGluZ1wiXG4gICAgICB9KTtcblxuICAgICAgLy8gQXR0ZW1wdCB0byBzaG93IHdhbGxldCBzZWxlY3QgcHJvbXB0IHdpdGggYHdhbGxldF9yZXF1ZXN0UGVybWlzc2lvbnNgIHdoZW5cbiAgICAgIC8vIGBzaGltRGlzY29ubmVjdGAgaXMgYWN0aXZlIGFuZCBhY2NvdW50IGlzIGluIGRpc2Nvbm5lY3RlZCBzdGF0ZSAoZmxhZyBpbiBzdG9yYWdlKVxuICAgICAgbGV0IGFjY291bnQgPSBudWxsO1xuICAgICAgaWYgKHRoaXMub3B0aW9ucz8uc2hpbURpc2Nvbm5lY3QgJiYgIUJvb2xlYW4odGhpcy5jb25uZWN0b3JTdG9yYWdlLmdldEl0ZW0odGhpcy5zaGltRGlzY29ubmVjdEtleSkpKSB7XG4gICAgICAgIGFjY291bnQgPSBhd2FpdCB0aGlzLmdldEFjY291bnQoKS5jYXRjaCgoKSA9PiBudWxsKTtcbiAgICAgICAgY29uc3QgaXNDb25uZWN0ZWQgPSAhIWFjY291bnQ7XG4gICAgICAgIGlmIChpc0Nvbm5lY3RlZCkge1xuICAgICAgICAgIC8vIEF0dGVtcHQgdG8gc2hvdyBhbm90aGVyIHByb21wdCBmb3Igc2VsZWN0aW5nIHdhbGxldCBpZiBhbHJlYWR5IGNvbm5lY3RlZFxuICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICBhd2FpdCBwcm92aWRlci5yZXF1ZXN0KHtcbiAgICAgICAgICAgICAgbWV0aG9kOiBcIndhbGxldF9yZXF1ZXN0UGVybWlzc2lvbnNcIixcbiAgICAgICAgICAgICAgcGFyYW1zOiBbe1xuICAgICAgICAgICAgICAgIGV0aF9hY2NvdW50czoge31cbiAgICAgICAgICAgICAgfV1cbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICAgICAgICAvLyBOb3QgYWxsIGluamVjdGVkIHByb3ZpZGVycyBzdXBwb3J0IGB3YWxsZXRfcmVxdWVzdFBlcm1pc3Npb25zYCAoZS5nLiBpT1MpLlxuICAgICAgICAgICAgLy8gT25seSBidWJibGUgdXAgZXJyb3IgaWYgdXNlciByZWplY3RzIHJlcXVlc3RcbiAgICAgICAgICAgIGlmICh0aGlzLmlzVXNlclJlamVjdGVkUmVxdWVzdEVycm9yKGVycm9yKSkge1xuICAgICAgICAgICAgICB0aHJvdyBuZXcgVXNlclJlamVjdGVkUmVxdWVzdEVycm9yKGVycm9yKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH1cblxuICAgICAgLy8gaWYgYWNjb3VudCBpcyBub3QgYWxyZWFkeSBzZXQsIHJlcXVlc3QgYWNjb3VudHMgYW5kIHVzZSB0aGUgZmlyc3QgYWNjb3VudFxuICAgICAgaWYgKCFhY2NvdW50KSB7XG4gICAgICAgIGNvbnN0IGFjY291bnRzID0gYXdhaXQgcHJvdmlkZXIucmVxdWVzdCh7XG4gICAgICAgICAgbWV0aG9kOiBcImV0aF9yZXF1ZXN0QWNjb3VudHNcIlxuICAgICAgICB9KTtcbiAgICAgICAgYWNjb3VudCA9IHV0aWxzLmdldEFkZHJlc3MoYWNjb3VudHNbMF0pO1xuICAgICAgfVxuXG4gICAgICAvLyBnZXQgY3VycmVudGx5IGNvbm5lY3RlZCBjaGFpbklkXG4gICAgICBsZXQgY29ubmVjdGVkQ2hhaW5JZCA9IGF3YWl0IHRoaXMuZ2V0Q2hhaW5JZCgpO1xuICAgICAgLy8gY2hlY2sgaWYgY29ubmVjdGVkIGNoYWluIGlzIHVuc3VwcG9ydGVkXG4gICAgICBsZXQgaXNVbnN1cHBvcnRlZCA9IHRoaXMuaXNDaGFpblVuc3VwcG9ydGVkKGNvbm5lY3RlZENoYWluSWQpO1xuXG4gICAgICAvLyBpZiBjaGFpbklkIGlzIGdpdmVuLCBidXQgZG9lcyBub3QgbWF0Y2ggdGhlIGN1cnJlbnRseSBjb25uZWN0ZWQgY2hhaW5JZCwgc3dpdGNoIHRvIHRoZSBnaXZlbiBjaGFpbklkXG4gICAgICBpZiAob3B0aW9ucy5jaGFpbklkICYmIGNvbm5lY3RlZENoYWluSWQgIT09IG9wdGlvbnMuY2hhaW5JZCkge1xuICAgICAgICB0cnkge1xuICAgICAgICAgIGF3YWl0IHRoaXMuc3dpdGNoQ2hhaW4ob3B0aW9ucy5jaGFpbklkKTtcbiAgICAgICAgICAvLyByZWNhbGN1bGF0ZSB0aGUgY2hhaW5JZCBhbmQgaXNVbnN1cHBvcnRlZFxuICAgICAgICAgIGNvbm5lY3RlZENoYWluSWQgPSBvcHRpb25zLmNoYWluSWQ7XG4gICAgICAgICAgaXNVbnN1cHBvcnRlZCA9IHRoaXMuaXNDaGFpblVuc3VwcG9ydGVkKG9wdGlvbnMuY2hhaW5JZCk7XG4gICAgICAgIH0gY2F0Y2ggKGUpIHtcbiAgICAgICAgICBjb25zb2xlLmVycm9yKGBDb3VsZCBub3Qgc3dpdGNoIHRvIGNoYWluIGlkIDogJHtvcHRpb25zLmNoYWluSWR9YCwgZSk7XG4gICAgICAgIH1cbiAgICAgIH1cblxuICAgICAgLy8gaWYgc2hpbURpc2Nvbm5lY3QgaXMgZW5hYmxlZFxuICAgICAgaWYgKHRoaXMub3B0aW9ucz8uc2hpbURpc2Nvbm5lY3QpIHtcbiAgICAgICAgLy8gYWRkIHNoaW1EaXNjb25uZWN0S2V5IGluIHN0b3JhZ2UgLSB0aGlzIHNpZ25hbHMgdGhhdCBjb25uZWN0b3IgaXMgXCJjb25uZWN0ZWRcIlxuICAgICAgICBhd2FpdCB0aGlzLmNvbm5lY3RvclN0b3JhZ2Uuc2V0SXRlbSh0aGlzLnNoaW1EaXNjb25uZWN0S2V5LCBcInRydWVcIik7XG4gICAgICB9XG4gICAgICBjb25zdCBjb25uZWN0aW9uSW5mbyA9IHtcbiAgICAgICAgY2hhaW46IHtcbiAgICAgICAgICBpZDogY29ubmVjdGVkQ2hhaW5JZCxcbiAgICAgICAgICB1bnN1cHBvcnRlZDogaXNVbnN1cHBvcnRlZFxuICAgICAgICB9LFxuICAgICAgICBwcm92aWRlcjogcHJvdmlkZXIsXG4gICAgICAgIGFjY291bnRcbiAgICAgIH07XG4gICAgICB0aGlzLmVtaXQoXCJjb25uZWN0XCIsIGNvbm5lY3Rpb25JbmZvKTtcbiAgICAgIHJldHVybiBjb25uZWN0aW9uSW5mbztcbiAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgaWYgKHRoaXMuaXNVc2VyUmVqZWN0ZWRSZXF1ZXN0RXJyb3IoZXJyb3IpKSB7XG4gICAgICAgIHRocm93IG5ldyBVc2VyUmVqZWN0ZWRSZXF1ZXN0RXJyb3IoZXJyb3IpO1xuICAgICAgfVxuICAgICAgaWYgKGVycm9yLmNvZGUgPT09IC0zMjAwMikge1xuICAgICAgICB0aHJvdyBuZXcgUmVzb3VyY2VVbmF2YWlsYWJsZUVycm9yKGVycm9yKTtcbiAgICAgIH1cbiAgICAgIHRocm93IGVycm9yO1xuICAgIH1cbiAgfVxufVxuXG5leHBvcnQgeyBDb2luOThDb25uZWN0b3IgfTtcbiJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./node_modules/@thirdweb-dev/wallets/evm/connectors/coin98/dist/thirdweb-dev-wallets-evm-connectors-coin98.browser.esm.js\n"));

/***/ }),

/***/ "./node_modules/@thirdweb-dev/wallets/evm/connectors/injected/dist/thirdweb-dev-wallets-evm-connectors-injected.browser.esm.js":
/*!*************************************************************************************************************************************!*\
  !*** ./node_modules/@thirdweb-dev/wallets/evm/connectors/injected/dist/thirdweb-dev-wallets-evm-connectors-injected.browser.esm.js ***!
  \*************************************************************************************************************************************/
/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

eval(__webpack_require__.ts("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   InjectedConnector: function() { return /* binding */ InjectedConnector; }\n/* harmony export */ });\n/* harmony import */ var _dist_defineProperty_c8ecdc07_browser_esm_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../../../dist/defineProperty-c8ecdc07.browser.esm.js */ \"./node_modules/@thirdweb-dev/wallets/dist/defineProperty-c8ecdc07.browser.esm.js\");\n/* harmony import */ var _dist_classPrivateFieldSet_a5db7c83_browser_esm_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../../../dist/classPrivateFieldSet-a5db7c83.browser.esm.js */ \"./node_modules/@thirdweb-dev/wallets/dist/classPrivateFieldSet-a5db7c83.browser.esm.js\");\n/* harmony import */ var _dist_assertWindowEthereum_b48c1686_browser_esm_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../../../dist/assertWindowEthereum-b48c1686.browser.esm.js */ \"./node_modules/@thirdweb-dev/wallets/dist/assertWindowEthereum-b48c1686.browser.esm.js\");\n/* harmony import */ var _dist_url_bc88b2b6_browser_esm_js__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../../../../dist/url-bc88b2b6.browser.esm.js */ \"./node_modules/@thirdweb-dev/wallets/dist/url-bc88b2b6.browser.esm.js\");\n/* harmony import */ var ethers__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ethers */ \"./node_modules/ethers/lib.esm/index.js\");\n/* harmony import */ var _dist_WagmiConnector_2f14002d_browser_esm_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../../dist/WagmiConnector-2f14002d.browser.esm.js */ \"./node_modules/@thirdweb-dev/wallets/dist/WagmiConnector-2f14002d.browser.esm.js\");\n/* harmony import */ var _dist_normalizeChainId_e4cc0175_browser_esm_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../../../../dist/normalizeChainId-e4cc0175.browser.esm.js */ \"./node_modules/@thirdweb-dev/wallets/dist/normalizeChainId-e4cc0175.browser.esm.js\");\n/* harmony import */ var _dist_errors_3055a99c_browser_esm_js__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../../../../dist/errors-3055a99c.browser.esm.js */ \"./node_modules/@thirdweb-dev/wallets/dist/errors-3055a99c.browser.esm.js\");\n/* harmony import */ var eventemitter3__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! eventemitter3 */ \"./node_modules/eventemitter3/index.mjs\");\n\n\n\n\n\n\n\n\n\n\n\nfunction getInjectedName(ethereum) {\n  if (!ethereum) {\n    return \"Injected\";\n  }\n  const getName = provider => {\n    if (provider.isAvalanche) {\n      return \"Core Wallet\";\n    }\n    if (provider.isBitKeep) {\n      return \"BitKeep\";\n    }\n    if (provider.isBraveWallet) {\n      return \"Brave Wallet\";\n    }\n    if (provider.isCoinbaseWallet) {\n      return \"Coinbase Wallet\";\n    }\n    if (provider.isExodus) {\n      return \"Exodus\";\n    }\n    if (provider.isFrame) {\n      return \"Frame\";\n    }\n    if (provider.isKuCoinWallet) {\n      return \"KuCoin Wallet\";\n    }\n    if (provider.isMathWallet) {\n      return \"MathWallet\";\n    }\n    if (provider.isOneInchIOSWallet || provider.isOneInchAndroidWallet) {\n      return \"1inch Wallet\";\n    }\n    if (provider.isOpera) {\n      return \"Opera\";\n    }\n    if (provider.isPortal) {\n      return \"Ripio Portal\";\n    }\n    if (provider.isTally) {\n      return \"Tally\";\n    }\n    if (provider.isTokenPocket) {\n      return \"TokenPocket\";\n    }\n    if (provider.isTokenary) {\n      return \"Tokenary\";\n    }\n    if (provider.isTrust || provider.isTrustWallet) {\n      return \"Trust Wallet\";\n    }\n    if (provider.isMetaMask) {\n      return \"MetaMask\";\n    }\n  };\n\n  // Some injected providers detect multiple other providers and create a list at `ethers.providers`\n  if (ethereum.providers?.length) {\n    // Deduplicate names using Set\n    // Coinbase Wallet puts multiple providers in `ethereum.providers`\n    const nameSet = new Set();\n    let unknownCount = 1;\n    for (const provider of ethereum.providers) {\n      let name = getName(provider);\n      if (!name) {\n        name = `Unknown Wallet #${unknownCount}`;\n        unknownCount += 1;\n      }\n      nameSet.add(name);\n    }\n    const names = [...nameSet];\n    if (names.length) {\n      return names;\n    }\n    return names[0] ?? \"Injected\";\n  }\n  return getName(ethereum) ?? \"Injected\";\n}\n\nvar _provider = /*#__PURE__*/new WeakMap();\nclass InjectedConnector extends _dist_WagmiConnector_2f14002d_browser_esm_js__WEBPACK_IMPORTED_MODULE_1__.W {\n  constructor(arg) {\n    const defaultOptions = {\n      shimDisconnect: true,\n      getProvider: () => {\n        if ((0,_dist_assertWindowEthereum_b48c1686_browser_esm_js__WEBPACK_IMPORTED_MODULE_2__.a)(globalThis.window)) {\n          return globalThis.window.ethereum;\n        }\n      }\n    };\n    const options = {\n      ...defaultOptions,\n      ...arg.options\n    };\n    super({\n      chains: arg.chains,\n      options\n    });\n    /**\n     * Name of the injected connector\n     */\n    /**\n     * Whether the connector is ready to be used\n     *\n     * `true` if the injected provider is found\n     */\n    (0,_dist_classPrivateFieldSet_a5db7c83_browser_esm_js__WEBPACK_IMPORTED_MODULE_3__._)(this, _provider, {\n      writable: true,\n      value: void 0\n    });\n    (0,_dist_defineProperty_c8ecdc07_browser_esm_js__WEBPACK_IMPORTED_MODULE_4__._)(this, \"shimDisconnectKey\", \"injected.shimDisconnect\");\n    /**\n     * handles the `accountsChanged` event from the provider\n     * * emits `change` event if connected to a different account\n     * * emits `disconnect` event if no accounts available\n     */\n    (0,_dist_defineProperty_c8ecdc07_browser_esm_js__WEBPACK_IMPORTED_MODULE_4__._)(this, \"onAccountsChanged\", async accounts => {\n      if (accounts.length === 0) {\n        this.emit(\"disconnect\");\n      } else {\n        this.emit(\"change\", {\n          account: ethers__WEBPACK_IMPORTED_MODULE_5__.utils.getAddress(accounts[0])\n        });\n      }\n    });\n    /**\n     * handles the `chainChanged` event from the provider\n     * * emits `change` event if connected to a different chain\n     */\n    (0,_dist_defineProperty_c8ecdc07_browser_esm_js__WEBPACK_IMPORTED_MODULE_4__._)(this, \"onChainChanged\", chainId => {\n      const id = (0,_dist_normalizeChainId_e4cc0175_browser_esm_js__WEBPACK_IMPORTED_MODULE_6__.n)(chainId);\n      const unsupported = this.isChainUnsupported(id);\n      this.emit(\"change\", {\n        chain: {\n          id,\n          unsupported\n        }\n      });\n    });\n    /**\n     * handles the `disconnect` event from the provider\n     * * emits `disconnect` event\n     */\n    (0,_dist_defineProperty_c8ecdc07_browser_esm_js__WEBPACK_IMPORTED_MODULE_4__._)(this, \"onDisconnect\", async error => {\n      // We need this as MetaMask can emit the \"disconnect\" event upon switching chains.\n      // If MetaMask emits a `code: 1013` error, wait for reconnection before disconnecting\n      // https://github.com/MetaMask/providers/pull/120\n      if (error.code === 1013) {\n        const provider = await this.getProvider();\n        if (provider) {\n          try {\n            const isAuthorized = await this.getAccount();\n            if (isAuthorized) {\n              return;\n            }\n          } catch {\n            // If we can't get the account anymore, continue with disconnect\n          }\n        }\n      }\n      this.emit(\"disconnect\");\n\n      // Remove `shimDisconnect` => it signals that wallet is disconnected\n      if (this.options.shimDisconnect) {\n        await this.connectorStorage.removeItem(this.shimDisconnectKey);\n      }\n    });\n    const _provider2 = options.getProvider();\n\n    // set the name of the connector\n    if (typeof options.name === \"string\") {\n      // if name is given, use that\n      this.name = options.name;\n    } else if (_provider2) {\n      // if injected provider is detected, get name from it\n      const detectedName = getInjectedName(_provider2);\n      if (options.name) {\n        this.name = options.name(detectedName);\n      } else {\n        if (typeof detectedName === \"string\") {\n          this.name = detectedName;\n        } else {\n          this.name = detectedName[0];\n        }\n      }\n    } else {\n      // else default to \"Injected\"\n      this.name = \"Injected\";\n    }\n    this.id = \"injected\";\n    this.ready = !!_provider2;\n    this.connectorStorage = arg.connectorStorage;\n  }\n\n  /**\n   * * Connect to the injected provider\n   * * switch to the given chain if `chainId` is specified as an argument\n   */\n  async connect() {\n    let options = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n    try {\n      const provider = await this.getProvider();\n      if (!provider) {\n        throw new _dist_errors_3055a99c_browser_esm_js__WEBPACK_IMPORTED_MODULE_7__.a();\n      }\n      this.setupListeners();\n\n      // emit \"connecting\" event\n      this.emit(\"message\", {\n        type: \"connecting\"\n      });\n\n      // request account addresses from injected provider\n      const accountAddresses = await provider.request({\n        method: \"eth_requestAccounts\"\n      });\n\n      // get the first account address\n      const firstAccountAddress = ethers__WEBPACK_IMPORTED_MODULE_5__.utils.getAddress(accountAddresses[0]);\n\n      // Switch to given chain if a chainId is specified\n      let connectedChainId = await this.getChainId();\n      // Check if currently connected chain is unsupported\n      // chainId is considered unsupported if chainId is not in the list of this.chains array\n      let isUnsupported = this.isChainUnsupported(connectedChainId);\n\n      // if chainId is specified and it is not the same as the currently connected chain\n      if (options.chainId && connectedChainId !== options.chainId) {\n        // switch to the given chain\n        try {\n          await this.switchChain(options.chainId);\n          // recalculate connectedChainId and isUnsupported\n          connectedChainId = options.chainId;\n          isUnsupported = this.isChainUnsupported(options.chainId);\n        } catch (e) {\n          console.error(`Could not switch to chain id: ${options.chainId}`, e);\n        }\n      }\n\n      // if shimDisconnect is enabled\n      if (this.options.shimDisconnect) {\n        // add the shim shimDisconnectKey => it signals that wallet is connected\n        await this.connectorStorage.setItem(this.shimDisconnectKey, \"true\");\n      }\n      const connectionInfo = {\n        account: firstAccountAddress,\n        chain: {\n          id: connectedChainId,\n          unsupported: isUnsupported\n        },\n        provider\n      };\n      this.emit(\"connect\", connectionInfo);\n      return connectionInfo;\n    } catch (error) {\n      if (this.isUserRejectedRequestError(error)) {\n        throw new _dist_errors_3055a99c_browser_esm_js__WEBPACK_IMPORTED_MODULE_7__.U(error);\n      }\n      if (error.code === -32002) {\n        throw new _dist_errors_3055a99c_browser_esm_js__WEBPACK_IMPORTED_MODULE_7__.R(error);\n      }\n      throw error;\n    }\n  }\n\n  /**\n   * disconnect from the injected provider\n   */\n  async disconnect() {\n    // perform cleanup\n    const provider = await this.getProvider();\n    if (!provider?.removeListener) {\n      return;\n    }\n    provider.removeListener(\"accountsChanged\", this.onAccountsChanged);\n    provider.removeListener(\"chainChanged\", this.onChainChanged);\n    provider.removeListener(\"disconnect\", this.onDisconnect);\n\n    // if shimDisconnect is enabled\n    if (this.options.shimDisconnect) {\n      // Remove the shimDisconnectKey => it signals that wallet is disconnected\n      await this.connectorStorage.removeItem(this.shimDisconnectKey);\n    }\n  }\n\n  /**\n   * @returns The first account address from the injected provider\n   */\n  async getAccount() {\n    const provider = await this.getProvider();\n    if (!provider) {\n      throw new _dist_errors_3055a99c_browser_esm_js__WEBPACK_IMPORTED_MODULE_7__.a();\n    }\n    const accounts = await provider.request({\n      method: \"eth_accounts\"\n    });\n\n    // return checksum address\n    // https://docs.ethers.org/v5/api/utils/address/#utils-getAddress\n    return ethers__WEBPACK_IMPORTED_MODULE_5__.utils.getAddress(accounts[0]);\n  }\n\n  /**\n   * @returns The `chainId` of the currently connected chain from injected provider normalized to a `number`\n   */\n  async getChainId() {\n    const provider = await this.getProvider();\n    if (!provider) {\n      throw new _dist_errors_3055a99c_browser_esm_js__WEBPACK_IMPORTED_MODULE_7__.a();\n    }\n    return provider.request({\n      method: \"eth_chainId\"\n    }).then(_dist_normalizeChainId_e4cc0175_browser_esm_js__WEBPACK_IMPORTED_MODULE_6__.n);\n  }\n\n  /**\n   * get the injected provider\n   */\n  async getProvider() {\n    const provider = this.options.getProvider();\n    if (provider) {\n      (0,_dist_classPrivateFieldSet_a5db7c83_browser_esm_js__WEBPACK_IMPORTED_MODULE_3__.a)(this, _provider, provider);\n      // setting listeners\n    }\n\n    return (0,_dist_classPrivateFieldSet_a5db7c83_browser_esm_js__WEBPACK_IMPORTED_MODULE_3__.b)(this, _provider);\n  }\n\n  /**\n   * get a `signer` for given `chainId`\n   */\n  async getSigner() {\n    let {\n      chainId\n    } = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n    const [provider, account] = await Promise.all([this.getProvider(), this.getAccount()]);\n\n    // ethers.providers.Web3Provider\n    return new ethers__WEBPACK_IMPORTED_MODULE_5__.providers.Web3Provider(provider, chainId).getSigner(account);\n  }\n\n  /**\n   *\n   * @returns `true` if the connector is connected and address is available, else `false`\n   */\n  async isAuthorized() {\n    try {\n      // `false` if connector is disconnected\n      if (this.options.shimDisconnect &&\n      // If shim does not exist in storage, wallet is disconnected\n      !Boolean(await this.connectorStorage.getItem(this.shimDisconnectKey))) {\n        return false;\n      }\n      const provider = await this.getProvider();\n      if (!provider) {\n        throw new _dist_errors_3055a99c_browser_esm_js__WEBPACK_IMPORTED_MODULE_7__.a();\n      }\n      // `false` if no account address available, else `true`\n      const account = await this.getAccount();\n      return !!account;\n    } catch {\n      // `false` if any error thrown\n      return false;\n    }\n  }\n\n  /**\n   * switch to given chain\n   */\n  async switchChain(chainId) {\n    const provider = await this.getProvider();\n    if (!provider) {\n      throw new _dist_errors_3055a99c_browser_esm_js__WEBPACK_IMPORTED_MODULE_7__.a();\n    }\n    const chainIdHex = ethers__WEBPACK_IMPORTED_MODULE_5__.utils.hexValue(chainId);\n    try {\n      // request provider to switch to given chainIdHex\n      await provider.request({\n        method: \"wallet_switchEthereumChain\",\n        params: [{\n          chainId: chainIdHex\n        }]\n      });\n      const chain = this.chains.find(_chain => _chain.chainId === chainId);\n      if (chain) {\n        return chain;\n      }\n      return {\n        chainId: chainId,\n        name: `Chain ${chainIdHex}`,\n        slug: `${chainIdHex}`,\n        nativeCurrency: {\n          name: \"Ether\",\n          decimals: 18,\n          symbol: \"ETH\"\n        },\n        rpc: [\"\"],\n        chain: \"\",\n        shortName: \"\",\n        testnet: true\n      };\n    } catch (error) {\n      // if could not switch to given chainIdHex\n\n      // if tried to connect to a chain that is not configured\n      const chain = this.chains.find(_chain => _chain.chainId === chainId);\n      if (!chain) {\n        throw new _dist_errors_3055a99c_browser_esm_js__WEBPACK_IMPORTED_MODULE_7__.C({\n          chainId,\n          connectorId: this.id\n        });\n      }\n\n      // if chain is not added to provider\n      if (error.code === 4902 ||\n      // Unwrapping for MetaMask Mobile\n      // https://github.com/MetaMask/metamask-mobile/issues/2944#issuecomment-976988719\n      error?.data?.originalError?.code === 4902) {\n        try {\n          // request provider to add chain\n          await provider.request({\n            method: \"wallet_addEthereumChain\",\n            params: [{\n              chainId: chainIdHex,\n              chainName: chain.name,\n              nativeCurrency: chain.nativeCurrency,\n              rpcUrls: (0,_dist_url_bc88b2b6_browser_esm_js__WEBPACK_IMPORTED_MODULE_8__.g)(chain),\n              // no client id on purpose here\n              blockExplorerUrls: this.getBlockExplorerUrls(chain)\n            }]\n          });\n          return chain;\n        } catch (addError) {\n          // if user rejects request to add chain\n          if (this.isUserRejectedRequestError(addError)) {\n            throw new _dist_errors_3055a99c_browser_esm_js__WEBPACK_IMPORTED_MODULE_7__.U(error);\n          }\n\n          // else other error\n          throw new _dist_errors_3055a99c_browser_esm_js__WEBPACK_IMPORTED_MODULE_7__.A();\n        }\n      }\n      if (this.isUserRejectedRequestError(error)) {\n        throw new _dist_errors_3055a99c_browser_esm_js__WEBPACK_IMPORTED_MODULE_7__.U(error);\n      }\n      throw new _dist_errors_3055a99c_browser_esm_js__WEBPACK_IMPORTED_MODULE_7__.S(error);\n    }\n  }\n  async setupListeners() {\n    const provider = await this.getProvider();\n    if (provider.on) {\n      provider.on(\"accountsChanged\", this.onAccountsChanged);\n      provider.on(\"chainChanged\", this.onChainChanged);\n      provider.on(\"disconnect\", this.onDisconnect);\n    }\n  }\n  isUserRejectedRequestError(error) {\n    return error.code === 4001;\n  }\n}\n\n\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9ub2RlX21vZHVsZXMvQHRoaXJkd2ViLWRldi93YWxsZXRzL2V2bS9jb25uZWN0b3JzL2luamVjdGVkL2Rpc3QvdGhpcmR3ZWItZGV2LXdhbGxldHMtZXZtLWNvbm5lY3RvcnMtaW5qZWN0ZWQuYnJvd3Nlci5lc20uanMiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7OztBQUErRjtBQUN5RTtBQUM5RDtBQUNqQjtBQUMvQztBQUNvRDtBQUNJO0FBQ21JO0FBQ3ZNO0FBQ1A7O0FBRXZCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxrQ0FBa0MsYUFBYTtBQUMvQztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQSxnQ0FBZ0MsMkVBQWM7QUFDOUM7QUFDQTtBQUNBO0FBQ0E7QUFDQSxZQUFZLHFGQUFvQjtBQUNoQztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxJQUFJLHFGQUEwQjtBQUM5QjtBQUNBO0FBQ0EsS0FBSztBQUNMLElBQUksK0VBQWU7QUFDbkI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLElBQUksK0VBQWU7QUFDbkI7QUFDQTtBQUNBLFFBQVE7QUFDUjtBQUNBLG1CQUFtQix5Q0FBSztBQUN4QixTQUFTO0FBQ1Q7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQSxJQUFJLCtFQUFlO0FBQ25CLGlCQUFpQixpRkFBZ0I7QUFDakM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsT0FBTztBQUNQLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBLElBQUksK0VBQWU7QUFDbkI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFlBQVk7QUFDWjtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsTUFBTTtBQUNOO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsUUFBUTtBQUNSO0FBQ0E7QUFDQSxVQUFVO0FBQ1Y7QUFDQTtBQUNBO0FBQ0EsTUFBTTtBQUNOO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGtCQUFrQixtRUFBc0I7QUFDeEM7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQSxPQUFPOztBQUVQO0FBQ0E7QUFDQTtBQUNBLE9BQU87O0FBRVA7QUFDQSxrQ0FBa0MseUNBQUs7O0FBRXZDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFVBQVU7QUFDVix5REFBeUQsZ0JBQWdCO0FBQ3pFO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQSxNQUFNO0FBQ047QUFDQSxrQkFBa0IsbUVBQXdCO0FBQzFDO0FBQ0E7QUFDQSxrQkFBa0IsbUVBQXdCO0FBQzFDO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsZ0JBQWdCLG1FQUFzQjtBQUN0QztBQUNBO0FBQ0E7QUFDQSxLQUFLOztBQUVMO0FBQ0E7QUFDQSxXQUFXLHlDQUFLO0FBQ2hCOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGdCQUFnQixtRUFBc0I7QUFDdEM7QUFDQTtBQUNBO0FBQ0EsS0FBSyxPQUFPLDZFQUFnQjtBQUM1Qjs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxNQUFNLHFGQUFxQjtBQUMzQjtBQUNBOztBQUVBLFdBQVcscUZBQXFCO0FBQ2hDOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE1BQU07QUFDTjs7QUFFQTtBQUNBLGVBQWUsNkNBQVM7QUFDeEI7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGtCQUFrQixtRUFBc0I7QUFDeEM7QUFDQTtBQUNBO0FBQ0E7QUFDQSxNQUFNO0FBQ047QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsZ0JBQWdCLG1FQUFzQjtBQUN0QztBQUNBLHVCQUF1Qix5Q0FBSztBQUM1QjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1QsT0FBTztBQUNQO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHVCQUF1QixXQUFXO0FBQ2xDLGlCQUFpQixXQUFXO0FBQzVCO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxNQUFNO0FBQ047O0FBRUE7QUFDQTtBQUNBO0FBQ0Esa0JBQWtCLG1FQUF1QjtBQUN6QztBQUNBO0FBQ0EsU0FBUztBQUNUOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsdUJBQXVCLG9FQUFvQjtBQUMzQztBQUNBO0FBQ0EsYUFBYTtBQUNiLFdBQVc7QUFDWDtBQUNBLFVBQVU7QUFDVjtBQUNBO0FBQ0Esc0JBQXNCLG1FQUF3QjtBQUM5Qzs7QUFFQTtBQUNBLG9CQUFvQixtRUFBYTtBQUNqQztBQUNBO0FBQ0E7QUFDQSxrQkFBa0IsbUVBQXdCO0FBQzFDO0FBQ0EsZ0JBQWdCLG1FQUFnQjtBQUNoQztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUU2QiIsInNvdXJjZXMiOlsid2VicGFjazovL19OX0UvLi9ub2RlX21vZHVsZXMvQHRoaXJkd2ViLWRldi93YWxsZXRzL2V2bS9jb25uZWN0b3JzL2luamVjdGVkL2Rpc3QvdGhpcmR3ZWItZGV2LXdhbGxldHMtZXZtLWNvbm5lY3RvcnMtaW5qZWN0ZWQuYnJvd3Nlci5lc20uanM/OTRmZSJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBfIGFzIF9kZWZpbmVQcm9wZXJ0eSB9IGZyb20gJy4uLy4uLy4uLy4uL2Rpc3QvZGVmaW5lUHJvcGVydHktYzhlY2RjMDcuYnJvd3Nlci5lc20uanMnO1xuaW1wb3J0IHsgXyBhcyBfY2xhc3NQcml2YXRlRmllbGRJbml0U3BlYywgYSBhcyBfY2xhc3NQcml2YXRlRmllbGRTZXQsIGIgYXMgX2NsYXNzUHJpdmF0ZUZpZWxkR2V0IH0gZnJvbSAnLi4vLi4vLi4vLi4vZGlzdC9jbGFzc1ByaXZhdGVGaWVsZFNldC1hNWRiN2M4My5icm93c2VyLmVzbS5qcyc7XG5pbXBvcnQgeyBhIGFzIGFzc2VydFdpbmRvd0V0aGVyZXVtIH0gZnJvbSAnLi4vLi4vLi4vLi4vZGlzdC9hc3NlcnRXaW5kb3dFdGhlcmV1bS1iNDhjMTY4Ni5icm93c2VyLmVzbS5qcyc7XG5pbXBvcnQgeyBnIGFzIGdldFZhbGlkUHVibGljUlBDVXJsIH0gZnJvbSAnLi4vLi4vLi4vLi4vZGlzdC91cmwtYmM4OGIyYjYuYnJvd3Nlci5lc20uanMnO1xuaW1wb3J0IHsgdXRpbHMsIHByb3ZpZGVycyB9IGZyb20gJ2V0aGVycyc7XG5pbXBvcnQgeyBXIGFzIFdhZ21pQ29ubmVjdG9yIH0gZnJvbSAnLi4vLi4vLi4vLi4vZGlzdC9XYWdtaUNvbm5lY3Rvci0yZjE0MDAyZC5icm93c2VyLmVzbS5qcyc7XG5pbXBvcnQgeyBuIGFzIG5vcm1hbGl6ZUNoYWluSWQgfSBmcm9tICcuLi8uLi8uLi8uLi9kaXN0L25vcm1hbGl6ZUNoYWluSWQtZTRjYzAxNzUuYnJvd3Nlci5lc20uanMnO1xuaW1wb3J0IHsgYSBhcyBDb25uZWN0b3JOb3RGb3VuZEVycm9yLCBVIGFzIFVzZXJSZWplY3RlZFJlcXVlc3RFcnJvciwgUiBhcyBSZXNvdXJjZVVuYXZhaWxhYmxlRXJyb3IsIEMgYXMgQ2hhaW5Ob3RDb25maWd1cmVkRXJyb3IsIEEgYXMgQWRkQ2hhaW5FcnJvciwgUyBhcyBTd2l0Y2hDaGFpbkVycm9yIH0gZnJvbSAnLi4vLi4vLi4vLi4vZGlzdC9lcnJvcnMtMzA1NWE5OWMuYnJvd3Nlci5lc20uanMnO1xuaW1wb3J0ICdAdGhpcmR3ZWItZGV2L2NoYWlucyc7XG5pbXBvcnQgJ2V2ZW50ZW1pdHRlcjMnO1xuXG5mdW5jdGlvbiBnZXRJbmplY3RlZE5hbWUoZXRoZXJldW0pIHtcbiAgaWYgKCFldGhlcmV1bSkge1xuICAgIHJldHVybiBcIkluamVjdGVkXCI7XG4gIH1cbiAgY29uc3QgZ2V0TmFtZSA9IHByb3ZpZGVyID0+IHtcbiAgICBpZiAocHJvdmlkZXIuaXNBdmFsYW5jaGUpIHtcbiAgICAgIHJldHVybiBcIkNvcmUgV2FsbGV0XCI7XG4gICAgfVxuICAgIGlmIChwcm92aWRlci5pc0JpdEtlZXApIHtcbiAgICAgIHJldHVybiBcIkJpdEtlZXBcIjtcbiAgICB9XG4gICAgaWYgKHByb3ZpZGVyLmlzQnJhdmVXYWxsZXQpIHtcbiAgICAgIHJldHVybiBcIkJyYXZlIFdhbGxldFwiO1xuICAgIH1cbiAgICBpZiAocHJvdmlkZXIuaXNDb2luYmFzZVdhbGxldCkge1xuICAgICAgcmV0dXJuIFwiQ29pbmJhc2UgV2FsbGV0XCI7XG4gICAgfVxuICAgIGlmIChwcm92aWRlci5pc0V4b2R1cykge1xuICAgICAgcmV0dXJuIFwiRXhvZHVzXCI7XG4gICAgfVxuICAgIGlmIChwcm92aWRlci5pc0ZyYW1lKSB7XG4gICAgICByZXR1cm4gXCJGcmFtZVwiO1xuICAgIH1cbiAgICBpZiAocHJvdmlkZXIuaXNLdUNvaW5XYWxsZXQpIHtcbiAgICAgIHJldHVybiBcIkt1Q29pbiBXYWxsZXRcIjtcbiAgICB9XG4gICAgaWYgKHByb3ZpZGVyLmlzTWF0aFdhbGxldCkge1xuICAgICAgcmV0dXJuIFwiTWF0aFdhbGxldFwiO1xuICAgIH1cbiAgICBpZiAocHJvdmlkZXIuaXNPbmVJbmNoSU9TV2FsbGV0IHx8IHByb3ZpZGVyLmlzT25lSW5jaEFuZHJvaWRXYWxsZXQpIHtcbiAgICAgIHJldHVybiBcIjFpbmNoIFdhbGxldFwiO1xuICAgIH1cbiAgICBpZiAocHJvdmlkZXIuaXNPcGVyYSkge1xuICAgICAgcmV0dXJuIFwiT3BlcmFcIjtcbiAgICB9XG4gICAgaWYgKHByb3ZpZGVyLmlzUG9ydGFsKSB7XG4gICAgICByZXR1cm4gXCJSaXBpbyBQb3J0YWxcIjtcbiAgICB9XG4gICAgaWYgKHByb3ZpZGVyLmlzVGFsbHkpIHtcbiAgICAgIHJldHVybiBcIlRhbGx5XCI7XG4gICAgfVxuICAgIGlmIChwcm92aWRlci5pc1Rva2VuUG9ja2V0KSB7XG4gICAgICByZXR1cm4gXCJUb2tlblBvY2tldFwiO1xuICAgIH1cbiAgICBpZiAocHJvdmlkZXIuaXNUb2tlbmFyeSkge1xuICAgICAgcmV0dXJuIFwiVG9rZW5hcnlcIjtcbiAgICB9XG4gICAgaWYgKHByb3ZpZGVyLmlzVHJ1c3QgfHwgcHJvdmlkZXIuaXNUcnVzdFdhbGxldCkge1xuICAgICAgcmV0dXJuIFwiVHJ1c3QgV2FsbGV0XCI7XG4gICAgfVxuICAgIGlmIChwcm92aWRlci5pc01ldGFNYXNrKSB7XG4gICAgICByZXR1cm4gXCJNZXRhTWFza1wiO1xuICAgIH1cbiAgfTtcblxuICAvLyBTb21lIGluamVjdGVkIHByb3ZpZGVycyBkZXRlY3QgbXVsdGlwbGUgb3RoZXIgcHJvdmlkZXJzIGFuZCBjcmVhdGUgYSBsaXN0IGF0IGBldGhlcnMucHJvdmlkZXJzYFxuICBpZiAoZXRoZXJldW0ucHJvdmlkZXJzPy5sZW5ndGgpIHtcbiAgICAvLyBEZWR1cGxpY2F0ZSBuYW1lcyB1c2luZyBTZXRcbiAgICAvLyBDb2luYmFzZSBXYWxsZXQgcHV0cyBtdWx0aXBsZSBwcm92aWRlcnMgaW4gYGV0aGVyZXVtLnByb3ZpZGVyc2BcbiAgICBjb25zdCBuYW1lU2V0ID0gbmV3IFNldCgpO1xuICAgIGxldCB1bmtub3duQ291bnQgPSAxO1xuICAgIGZvciAoY29uc3QgcHJvdmlkZXIgb2YgZXRoZXJldW0ucHJvdmlkZXJzKSB7XG4gICAgICBsZXQgbmFtZSA9IGdldE5hbWUocHJvdmlkZXIpO1xuICAgICAgaWYgKCFuYW1lKSB7XG4gICAgICAgIG5hbWUgPSBgVW5rbm93biBXYWxsZXQgIyR7dW5rbm93bkNvdW50fWA7XG4gICAgICAgIHVua25vd25Db3VudCArPSAxO1xuICAgICAgfVxuICAgICAgbmFtZVNldC5hZGQobmFtZSk7XG4gICAgfVxuICAgIGNvbnN0IG5hbWVzID0gWy4uLm5hbWVTZXRdO1xuICAgIGlmIChuYW1lcy5sZW5ndGgpIHtcbiAgICAgIHJldHVybiBuYW1lcztcbiAgICB9XG4gICAgcmV0dXJuIG5hbWVzWzBdID8/IFwiSW5qZWN0ZWRcIjtcbiAgfVxuICByZXR1cm4gZ2V0TmFtZShldGhlcmV1bSkgPz8gXCJJbmplY3RlZFwiO1xufVxuXG52YXIgX3Byb3ZpZGVyID0gLyojX19QVVJFX18qL25ldyBXZWFrTWFwKCk7XG5jbGFzcyBJbmplY3RlZENvbm5lY3RvciBleHRlbmRzIFdhZ21pQ29ubmVjdG9yIHtcbiAgY29uc3RydWN0b3IoYXJnKSB7XG4gICAgY29uc3QgZGVmYXVsdE9wdGlvbnMgPSB7XG4gICAgICBzaGltRGlzY29ubmVjdDogdHJ1ZSxcbiAgICAgIGdldFByb3ZpZGVyOiAoKSA9PiB7XG4gICAgICAgIGlmIChhc3NlcnRXaW5kb3dFdGhlcmV1bShnbG9iYWxUaGlzLndpbmRvdykpIHtcbiAgICAgICAgICByZXR1cm4gZ2xvYmFsVGhpcy53aW5kb3cuZXRoZXJldW07XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9O1xuICAgIGNvbnN0IG9wdGlvbnMgPSB7XG4gICAgICAuLi5kZWZhdWx0T3B0aW9ucyxcbiAgICAgIC4uLmFyZy5vcHRpb25zXG4gICAgfTtcbiAgICBzdXBlcih7XG4gICAgICBjaGFpbnM6IGFyZy5jaGFpbnMsXG4gICAgICBvcHRpb25zXG4gICAgfSk7XG4gICAgLyoqXG4gICAgICogTmFtZSBvZiB0aGUgaW5qZWN0ZWQgY29ubmVjdG9yXG4gICAgICovXG4gICAgLyoqXG4gICAgICogV2hldGhlciB0aGUgY29ubmVjdG9yIGlzIHJlYWR5IHRvIGJlIHVzZWRcbiAgICAgKlxuICAgICAqIGB0cnVlYCBpZiB0aGUgaW5qZWN0ZWQgcHJvdmlkZXIgaXMgZm91bmRcbiAgICAgKi9cbiAgICBfY2xhc3NQcml2YXRlRmllbGRJbml0U3BlYyh0aGlzLCBfcHJvdmlkZXIsIHtcbiAgICAgIHdyaXRhYmxlOiB0cnVlLFxuICAgICAgdmFsdWU6IHZvaWQgMFxuICAgIH0pO1xuICAgIF9kZWZpbmVQcm9wZXJ0eSh0aGlzLCBcInNoaW1EaXNjb25uZWN0S2V5XCIsIFwiaW5qZWN0ZWQuc2hpbURpc2Nvbm5lY3RcIik7XG4gICAgLyoqXG4gICAgICogaGFuZGxlcyB0aGUgYGFjY291bnRzQ2hhbmdlZGAgZXZlbnQgZnJvbSB0aGUgcHJvdmlkZXJcbiAgICAgKiAqIGVtaXRzIGBjaGFuZ2VgIGV2ZW50IGlmIGNvbm5lY3RlZCB0byBhIGRpZmZlcmVudCBhY2NvdW50XG4gICAgICogKiBlbWl0cyBgZGlzY29ubmVjdGAgZXZlbnQgaWYgbm8gYWNjb3VudHMgYXZhaWxhYmxlXG4gICAgICovXG4gICAgX2RlZmluZVByb3BlcnR5KHRoaXMsIFwib25BY2NvdW50c0NoYW5nZWRcIiwgYXN5bmMgYWNjb3VudHMgPT4ge1xuICAgICAgaWYgKGFjY291bnRzLmxlbmd0aCA9PT0gMCkge1xuICAgICAgICB0aGlzLmVtaXQoXCJkaXNjb25uZWN0XCIpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgdGhpcy5lbWl0KFwiY2hhbmdlXCIsIHtcbiAgICAgICAgICBhY2NvdW50OiB1dGlscy5nZXRBZGRyZXNzKGFjY291bnRzWzBdKVxuICAgICAgICB9KTtcbiAgICAgIH1cbiAgICB9KTtcbiAgICAvKipcbiAgICAgKiBoYW5kbGVzIHRoZSBgY2hhaW5DaGFuZ2VkYCBldmVudCBmcm9tIHRoZSBwcm92aWRlclxuICAgICAqICogZW1pdHMgYGNoYW5nZWAgZXZlbnQgaWYgY29ubmVjdGVkIHRvIGEgZGlmZmVyZW50IGNoYWluXG4gICAgICovXG4gICAgX2RlZmluZVByb3BlcnR5KHRoaXMsIFwib25DaGFpbkNoYW5nZWRcIiwgY2hhaW5JZCA9PiB7XG4gICAgICBjb25zdCBpZCA9IG5vcm1hbGl6ZUNoYWluSWQoY2hhaW5JZCk7XG4gICAgICBjb25zdCB1bnN1cHBvcnRlZCA9IHRoaXMuaXNDaGFpblVuc3VwcG9ydGVkKGlkKTtcbiAgICAgIHRoaXMuZW1pdChcImNoYW5nZVwiLCB7XG4gICAgICAgIGNoYWluOiB7XG4gICAgICAgICAgaWQsXG4gICAgICAgICAgdW5zdXBwb3J0ZWRcbiAgICAgICAgfVxuICAgICAgfSk7XG4gICAgfSk7XG4gICAgLyoqXG4gICAgICogaGFuZGxlcyB0aGUgYGRpc2Nvbm5lY3RgIGV2ZW50IGZyb20gdGhlIHByb3ZpZGVyXG4gICAgICogKiBlbWl0cyBgZGlzY29ubmVjdGAgZXZlbnRcbiAgICAgKi9cbiAgICBfZGVmaW5lUHJvcGVydHkodGhpcywgXCJvbkRpc2Nvbm5lY3RcIiwgYXN5bmMgZXJyb3IgPT4ge1xuICAgICAgLy8gV2UgbmVlZCB0aGlzIGFzIE1ldGFNYXNrIGNhbiBlbWl0IHRoZSBcImRpc2Nvbm5lY3RcIiBldmVudCB1cG9uIHN3aXRjaGluZyBjaGFpbnMuXG4gICAgICAvLyBJZiBNZXRhTWFzayBlbWl0cyBhIGBjb2RlOiAxMDEzYCBlcnJvciwgd2FpdCBmb3IgcmVjb25uZWN0aW9uIGJlZm9yZSBkaXNjb25uZWN0aW5nXG4gICAgICAvLyBodHRwczovL2dpdGh1Yi5jb20vTWV0YU1hc2svcHJvdmlkZXJzL3B1bGwvMTIwXG4gICAgICBpZiAoZXJyb3IuY29kZSA9PT0gMTAxMykge1xuICAgICAgICBjb25zdCBwcm92aWRlciA9IGF3YWl0IHRoaXMuZ2V0UHJvdmlkZXIoKTtcbiAgICAgICAgaWYgKHByb3ZpZGVyKSB7XG4gICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIGNvbnN0IGlzQXV0aG9yaXplZCA9IGF3YWl0IHRoaXMuZ2V0QWNjb3VudCgpO1xuICAgICAgICAgICAgaWYgKGlzQXV0aG9yaXplZCkge1xuICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfSBjYXRjaCB7XG4gICAgICAgICAgICAvLyBJZiB3ZSBjYW4ndCBnZXQgdGhlIGFjY291bnQgYW55bW9yZSwgY29udGludWUgd2l0aCBkaXNjb25uZWN0XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9XG4gICAgICB0aGlzLmVtaXQoXCJkaXNjb25uZWN0XCIpO1xuXG4gICAgICAvLyBSZW1vdmUgYHNoaW1EaXNjb25uZWN0YCA9PiBpdCBzaWduYWxzIHRoYXQgd2FsbGV0IGlzIGRpc2Nvbm5lY3RlZFxuICAgICAgaWYgKHRoaXMub3B0aW9ucy5zaGltRGlzY29ubmVjdCkge1xuICAgICAgICBhd2FpdCB0aGlzLmNvbm5lY3RvclN0b3JhZ2UucmVtb3ZlSXRlbSh0aGlzLnNoaW1EaXNjb25uZWN0S2V5KTtcbiAgICAgIH1cbiAgICB9KTtcbiAgICBjb25zdCBfcHJvdmlkZXIyID0gb3B0aW9ucy5nZXRQcm92aWRlcigpO1xuXG4gICAgLy8gc2V0IHRoZSBuYW1lIG9mIHRoZSBjb25uZWN0b3JcbiAgICBpZiAodHlwZW9mIG9wdGlvbnMubmFtZSA9PT0gXCJzdHJpbmdcIikge1xuICAgICAgLy8gaWYgbmFtZSBpcyBnaXZlbiwgdXNlIHRoYXRcbiAgICAgIHRoaXMubmFtZSA9IG9wdGlvbnMubmFtZTtcbiAgICB9IGVsc2UgaWYgKF9wcm92aWRlcjIpIHtcbiAgICAgIC8vIGlmIGluamVjdGVkIHByb3ZpZGVyIGlzIGRldGVjdGVkLCBnZXQgbmFtZSBmcm9tIGl0XG4gICAgICBjb25zdCBkZXRlY3RlZE5hbWUgPSBnZXRJbmplY3RlZE5hbWUoX3Byb3ZpZGVyMik7XG4gICAgICBpZiAob3B0aW9ucy5uYW1lKSB7XG4gICAgICAgIHRoaXMubmFtZSA9IG9wdGlvbnMubmFtZShkZXRlY3RlZE5hbWUpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgaWYgKHR5cGVvZiBkZXRlY3RlZE5hbWUgPT09IFwic3RyaW5nXCIpIHtcbiAgICAgICAgICB0aGlzLm5hbWUgPSBkZXRlY3RlZE5hbWU7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgdGhpcy5uYW1lID0gZGV0ZWN0ZWROYW1lWzBdO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfSBlbHNlIHtcbiAgICAgIC8vIGVsc2UgZGVmYXVsdCB0byBcIkluamVjdGVkXCJcbiAgICAgIHRoaXMubmFtZSA9IFwiSW5qZWN0ZWRcIjtcbiAgICB9XG4gICAgdGhpcy5pZCA9IFwiaW5qZWN0ZWRcIjtcbiAgICB0aGlzLnJlYWR5ID0gISFfcHJvdmlkZXIyO1xuICAgIHRoaXMuY29ubmVjdG9yU3RvcmFnZSA9IGFyZy5jb25uZWN0b3JTdG9yYWdlO1xuICB9XG5cbiAgLyoqXG4gICAqICogQ29ubmVjdCB0byB0aGUgaW5qZWN0ZWQgcHJvdmlkZXJcbiAgICogKiBzd2l0Y2ggdG8gdGhlIGdpdmVuIGNoYWluIGlmIGBjaGFpbklkYCBpcyBzcGVjaWZpZWQgYXMgYW4gYXJndW1lbnRcbiAgICovXG4gIGFzeW5jIGNvbm5lY3QoKSB7XG4gICAgbGV0IG9wdGlvbnMgPSBhcmd1bWVudHMubGVuZ3RoID4gMCAmJiBhcmd1bWVudHNbMF0gIT09IHVuZGVmaW5lZCA/IGFyZ3VtZW50c1swXSA6IHt9O1xuICAgIHRyeSB7XG4gICAgICBjb25zdCBwcm92aWRlciA9IGF3YWl0IHRoaXMuZ2V0UHJvdmlkZXIoKTtcbiAgICAgIGlmICghcHJvdmlkZXIpIHtcbiAgICAgICAgdGhyb3cgbmV3IENvbm5lY3Rvck5vdEZvdW5kRXJyb3IoKTtcbiAgICAgIH1cbiAgICAgIHRoaXMuc2V0dXBMaXN0ZW5lcnMoKTtcblxuICAgICAgLy8gZW1pdCBcImNvbm5lY3RpbmdcIiBldmVudFxuICAgICAgdGhpcy5lbWl0KFwibWVzc2FnZVwiLCB7XG4gICAgICAgIHR5cGU6IFwiY29ubmVjdGluZ1wiXG4gICAgICB9KTtcblxuICAgICAgLy8gcmVxdWVzdCBhY2NvdW50IGFkZHJlc3NlcyBmcm9tIGluamVjdGVkIHByb3ZpZGVyXG4gICAgICBjb25zdCBhY2NvdW50QWRkcmVzc2VzID0gYXdhaXQgcHJvdmlkZXIucmVxdWVzdCh7XG4gICAgICAgIG1ldGhvZDogXCJldGhfcmVxdWVzdEFjY291bnRzXCJcbiAgICAgIH0pO1xuXG4gICAgICAvLyBnZXQgdGhlIGZpcnN0IGFjY291bnQgYWRkcmVzc1xuICAgICAgY29uc3QgZmlyc3RBY2NvdW50QWRkcmVzcyA9IHV0aWxzLmdldEFkZHJlc3MoYWNjb3VudEFkZHJlc3Nlc1swXSk7XG5cbiAgICAgIC8vIFN3aXRjaCB0byBnaXZlbiBjaGFpbiBpZiBhIGNoYWluSWQgaXMgc3BlY2lmaWVkXG4gICAgICBsZXQgY29ubmVjdGVkQ2hhaW5JZCA9IGF3YWl0IHRoaXMuZ2V0Q2hhaW5JZCgpO1xuICAgICAgLy8gQ2hlY2sgaWYgY3VycmVudGx5IGNvbm5lY3RlZCBjaGFpbiBpcyB1bnN1cHBvcnRlZFxuICAgICAgLy8gY2hhaW5JZCBpcyBjb25zaWRlcmVkIHVuc3VwcG9ydGVkIGlmIGNoYWluSWQgaXMgbm90IGluIHRoZSBsaXN0IG9mIHRoaXMuY2hhaW5zIGFycmF5XG4gICAgICBsZXQgaXNVbnN1cHBvcnRlZCA9IHRoaXMuaXNDaGFpblVuc3VwcG9ydGVkKGNvbm5lY3RlZENoYWluSWQpO1xuXG4gICAgICAvLyBpZiBjaGFpbklkIGlzIHNwZWNpZmllZCBhbmQgaXQgaXMgbm90IHRoZSBzYW1lIGFzIHRoZSBjdXJyZW50bHkgY29ubmVjdGVkIGNoYWluXG4gICAgICBpZiAob3B0aW9ucy5jaGFpbklkICYmIGNvbm5lY3RlZENoYWluSWQgIT09IG9wdGlvbnMuY2hhaW5JZCkge1xuICAgICAgICAvLyBzd2l0Y2ggdG8gdGhlIGdpdmVuIGNoYWluXG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgYXdhaXQgdGhpcy5zd2l0Y2hDaGFpbihvcHRpb25zLmNoYWluSWQpO1xuICAgICAgICAgIC8vIHJlY2FsY3VsYXRlIGNvbm5lY3RlZENoYWluSWQgYW5kIGlzVW5zdXBwb3J0ZWRcbiAgICAgICAgICBjb25uZWN0ZWRDaGFpbklkID0gb3B0aW9ucy5jaGFpbklkO1xuICAgICAgICAgIGlzVW5zdXBwb3J0ZWQgPSB0aGlzLmlzQ2hhaW5VbnN1cHBvcnRlZChvcHRpb25zLmNoYWluSWQpO1xuICAgICAgICB9IGNhdGNoIChlKSB7XG4gICAgICAgICAgY29uc29sZS5lcnJvcihgQ291bGQgbm90IHN3aXRjaCB0byBjaGFpbiBpZDogJHtvcHRpb25zLmNoYWluSWR9YCwgZSk7XG4gICAgICAgIH1cbiAgICAgIH1cblxuICAgICAgLy8gaWYgc2hpbURpc2Nvbm5lY3QgaXMgZW5hYmxlZFxuICAgICAgaWYgKHRoaXMub3B0aW9ucy5zaGltRGlzY29ubmVjdCkge1xuICAgICAgICAvLyBhZGQgdGhlIHNoaW0gc2hpbURpc2Nvbm5lY3RLZXkgPT4gaXQgc2lnbmFscyB0aGF0IHdhbGxldCBpcyBjb25uZWN0ZWRcbiAgICAgICAgYXdhaXQgdGhpcy5jb25uZWN0b3JTdG9yYWdlLnNldEl0ZW0odGhpcy5zaGltRGlzY29ubmVjdEtleSwgXCJ0cnVlXCIpO1xuICAgICAgfVxuICAgICAgY29uc3QgY29ubmVjdGlvbkluZm8gPSB7XG4gICAgICAgIGFjY291bnQ6IGZpcnN0QWNjb3VudEFkZHJlc3MsXG4gICAgICAgIGNoYWluOiB7XG4gICAgICAgICAgaWQ6IGNvbm5lY3RlZENoYWluSWQsXG4gICAgICAgICAgdW5zdXBwb3J0ZWQ6IGlzVW5zdXBwb3J0ZWRcbiAgICAgICAgfSxcbiAgICAgICAgcHJvdmlkZXJcbiAgICAgIH07XG4gICAgICB0aGlzLmVtaXQoXCJjb25uZWN0XCIsIGNvbm5lY3Rpb25JbmZvKTtcbiAgICAgIHJldHVybiBjb25uZWN0aW9uSW5mbztcbiAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgaWYgKHRoaXMuaXNVc2VyUmVqZWN0ZWRSZXF1ZXN0RXJyb3IoZXJyb3IpKSB7XG4gICAgICAgIHRocm93IG5ldyBVc2VyUmVqZWN0ZWRSZXF1ZXN0RXJyb3IoZXJyb3IpO1xuICAgICAgfVxuICAgICAgaWYgKGVycm9yLmNvZGUgPT09IC0zMjAwMikge1xuICAgICAgICB0aHJvdyBuZXcgUmVzb3VyY2VVbmF2YWlsYWJsZUVycm9yKGVycm9yKTtcbiAgICAgIH1cbiAgICAgIHRocm93IGVycm9yO1xuICAgIH1cbiAgfVxuXG4gIC8qKlxuICAgKiBkaXNjb25uZWN0IGZyb20gdGhlIGluamVjdGVkIHByb3ZpZGVyXG4gICAqL1xuICBhc3luYyBkaXNjb25uZWN0KCkge1xuICAgIC8vIHBlcmZvcm0gY2xlYW51cFxuICAgIGNvbnN0IHByb3ZpZGVyID0gYXdhaXQgdGhpcy5nZXRQcm92aWRlcigpO1xuICAgIGlmICghcHJvdmlkZXI/LnJlbW92ZUxpc3RlbmVyKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIHByb3ZpZGVyLnJlbW92ZUxpc3RlbmVyKFwiYWNjb3VudHNDaGFuZ2VkXCIsIHRoaXMub25BY2NvdW50c0NoYW5nZWQpO1xuICAgIHByb3ZpZGVyLnJlbW92ZUxpc3RlbmVyKFwiY2hhaW5DaGFuZ2VkXCIsIHRoaXMub25DaGFpbkNoYW5nZWQpO1xuICAgIHByb3ZpZGVyLnJlbW92ZUxpc3RlbmVyKFwiZGlzY29ubmVjdFwiLCB0aGlzLm9uRGlzY29ubmVjdCk7XG5cbiAgICAvLyBpZiBzaGltRGlzY29ubmVjdCBpcyBlbmFibGVkXG4gICAgaWYgKHRoaXMub3B0aW9ucy5zaGltRGlzY29ubmVjdCkge1xuICAgICAgLy8gUmVtb3ZlIHRoZSBzaGltRGlzY29ubmVjdEtleSA9PiBpdCBzaWduYWxzIHRoYXQgd2FsbGV0IGlzIGRpc2Nvbm5lY3RlZFxuICAgICAgYXdhaXQgdGhpcy5jb25uZWN0b3JTdG9yYWdlLnJlbW92ZUl0ZW0odGhpcy5zaGltRGlzY29ubmVjdEtleSk7XG4gICAgfVxuICB9XG5cbiAgLyoqXG4gICAqIEByZXR1cm5zIFRoZSBmaXJzdCBhY2NvdW50IGFkZHJlc3MgZnJvbSB0aGUgaW5qZWN0ZWQgcHJvdmlkZXJcbiAgICovXG4gIGFzeW5jIGdldEFjY291bnQoKSB7XG4gICAgY29uc3QgcHJvdmlkZXIgPSBhd2FpdCB0aGlzLmdldFByb3ZpZGVyKCk7XG4gICAgaWYgKCFwcm92aWRlcikge1xuICAgICAgdGhyb3cgbmV3IENvbm5lY3Rvck5vdEZvdW5kRXJyb3IoKTtcbiAgICB9XG4gICAgY29uc3QgYWNjb3VudHMgPSBhd2FpdCBwcm92aWRlci5yZXF1ZXN0KHtcbiAgICAgIG1ldGhvZDogXCJldGhfYWNjb3VudHNcIlxuICAgIH0pO1xuXG4gICAgLy8gcmV0dXJuIGNoZWNrc3VtIGFkZHJlc3NcbiAgICAvLyBodHRwczovL2RvY3MuZXRoZXJzLm9yZy92NS9hcGkvdXRpbHMvYWRkcmVzcy8jdXRpbHMtZ2V0QWRkcmVzc1xuICAgIHJldHVybiB1dGlscy5nZXRBZGRyZXNzKGFjY291bnRzWzBdKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBAcmV0dXJucyBUaGUgYGNoYWluSWRgIG9mIHRoZSBjdXJyZW50bHkgY29ubmVjdGVkIGNoYWluIGZyb20gaW5qZWN0ZWQgcHJvdmlkZXIgbm9ybWFsaXplZCB0byBhIGBudW1iZXJgXG4gICAqL1xuICBhc3luYyBnZXRDaGFpbklkKCkge1xuICAgIGNvbnN0IHByb3ZpZGVyID0gYXdhaXQgdGhpcy5nZXRQcm92aWRlcigpO1xuICAgIGlmICghcHJvdmlkZXIpIHtcbiAgICAgIHRocm93IG5ldyBDb25uZWN0b3JOb3RGb3VuZEVycm9yKCk7XG4gICAgfVxuICAgIHJldHVybiBwcm92aWRlci5yZXF1ZXN0KHtcbiAgICAgIG1ldGhvZDogXCJldGhfY2hhaW5JZFwiXG4gICAgfSkudGhlbihub3JtYWxpemVDaGFpbklkKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBnZXQgdGhlIGluamVjdGVkIHByb3ZpZGVyXG4gICAqL1xuICBhc3luYyBnZXRQcm92aWRlcigpIHtcbiAgICBjb25zdCBwcm92aWRlciA9IHRoaXMub3B0aW9ucy5nZXRQcm92aWRlcigpO1xuICAgIGlmIChwcm92aWRlcikge1xuICAgICAgX2NsYXNzUHJpdmF0ZUZpZWxkU2V0KHRoaXMsIF9wcm92aWRlciwgcHJvdmlkZXIpO1xuICAgICAgLy8gc2V0dGluZyBsaXN0ZW5lcnNcbiAgICB9XG5cbiAgICByZXR1cm4gX2NsYXNzUHJpdmF0ZUZpZWxkR2V0KHRoaXMsIF9wcm92aWRlcik7XG4gIH1cblxuICAvKipcbiAgICogZ2V0IGEgYHNpZ25lcmAgZm9yIGdpdmVuIGBjaGFpbklkYFxuICAgKi9cbiAgYXN5bmMgZ2V0U2lnbmVyKCkge1xuICAgIGxldCB7XG4gICAgICBjaGFpbklkXG4gICAgfSA9IGFyZ3VtZW50cy5sZW5ndGggPiAwICYmIGFyZ3VtZW50c1swXSAhPT0gdW5kZWZpbmVkID8gYXJndW1lbnRzWzBdIDoge307XG4gICAgY29uc3QgW3Byb3ZpZGVyLCBhY2NvdW50XSA9IGF3YWl0IFByb21pc2UuYWxsKFt0aGlzLmdldFByb3ZpZGVyKCksIHRoaXMuZ2V0QWNjb3VudCgpXSk7XG5cbiAgICAvLyBldGhlcnMucHJvdmlkZXJzLldlYjNQcm92aWRlclxuICAgIHJldHVybiBuZXcgcHJvdmlkZXJzLldlYjNQcm92aWRlcihwcm92aWRlciwgY2hhaW5JZCkuZ2V0U2lnbmVyKGFjY291bnQpO1xuICB9XG5cbiAgLyoqXG4gICAqXG4gICAqIEByZXR1cm5zIGB0cnVlYCBpZiB0aGUgY29ubmVjdG9yIGlzIGNvbm5lY3RlZCBhbmQgYWRkcmVzcyBpcyBhdmFpbGFibGUsIGVsc2UgYGZhbHNlYFxuICAgKi9cbiAgYXN5bmMgaXNBdXRob3JpemVkKCkge1xuICAgIHRyeSB7XG4gICAgICAvLyBgZmFsc2VgIGlmIGNvbm5lY3RvciBpcyBkaXNjb25uZWN0ZWRcbiAgICAgIGlmICh0aGlzLm9wdGlvbnMuc2hpbURpc2Nvbm5lY3QgJiZcbiAgICAgIC8vIElmIHNoaW0gZG9lcyBub3QgZXhpc3QgaW4gc3RvcmFnZSwgd2FsbGV0IGlzIGRpc2Nvbm5lY3RlZFxuICAgICAgIUJvb2xlYW4oYXdhaXQgdGhpcy5jb25uZWN0b3JTdG9yYWdlLmdldEl0ZW0odGhpcy5zaGltRGlzY29ubmVjdEtleSkpKSB7XG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgIH1cbiAgICAgIGNvbnN0IHByb3ZpZGVyID0gYXdhaXQgdGhpcy5nZXRQcm92aWRlcigpO1xuICAgICAgaWYgKCFwcm92aWRlcikge1xuICAgICAgICB0aHJvdyBuZXcgQ29ubmVjdG9yTm90Rm91bmRFcnJvcigpO1xuICAgICAgfVxuICAgICAgLy8gYGZhbHNlYCBpZiBubyBhY2NvdW50IGFkZHJlc3MgYXZhaWxhYmxlLCBlbHNlIGB0cnVlYFxuICAgICAgY29uc3QgYWNjb3VudCA9IGF3YWl0IHRoaXMuZ2V0QWNjb3VudCgpO1xuICAgICAgcmV0dXJuICEhYWNjb3VudDtcbiAgICB9IGNhdGNoIHtcbiAgICAgIC8vIGBmYWxzZWAgaWYgYW55IGVycm9yIHRocm93blxuICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cbiAgfVxuXG4gIC8qKlxuICAgKiBzd2l0Y2ggdG8gZ2l2ZW4gY2hhaW5cbiAgICovXG4gIGFzeW5jIHN3aXRjaENoYWluKGNoYWluSWQpIHtcbiAgICBjb25zdCBwcm92aWRlciA9IGF3YWl0IHRoaXMuZ2V0UHJvdmlkZXIoKTtcbiAgICBpZiAoIXByb3ZpZGVyKSB7XG4gICAgICB0aHJvdyBuZXcgQ29ubmVjdG9yTm90Rm91bmRFcnJvcigpO1xuICAgIH1cbiAgICBjb25zdCBjaGFpbklkSGV4ID0gdXRpbHMuaGV4VmFsdWUoY2hhaW5JZCk7XG4gICAgdHJ5IHtcbiAgICAgIC8vIHJlcXVlc3QgcHJvdmlkZXIgdG8gc3dpdGNoIHRvIGdpdmVuIGNoYWluSWRIZXhcbiAgICAgIGF3YWl0IHByb3ZpZGVyLnJlcXVlc3Qoe1xuICAgICAgICBtZXRob2Q6IFwid2FsbGV0X3N3aXRjaEV0aGVyZXVtQ2hhaW5cIixcbiAgICAgICAgcGFyYW1zOiBbe1xuICAgICAgICAgIGNoYWluSWQ6IGNoYWluSWRIZXhcbiAgICAgICAgfV1cbiAgICAgIH0pO1xuICAgICAgY29uc3QgY2hhaW4gPSB0aGlzLmNoYWlucy5maW5kKF9jaGFpbiA9PiBfY2hhaW4uY2hhaW5JZCA9PT0gY2hhaW5JZCk7XG4gICAgICBpZiAoY2hhaW4pIHtcbiAgICAgICAgcmV0dXJuIGNoYWluO1xuICAgICAgfVxuICAgICAgcmV0dXJuIHtcbiAgICAgICAgY2hhaW5JZDogY2hhaW5JZCxcbiAgICAgICAgbmFtZTogYENoYWluICR7Y2hhaW5JZEhleH1gLFxuICAgICAgICBzbHVnOiBgJHtjaGFpbklkSGV4fWAsXG4gICAgICAgIG5hdGl2ZUN1cnJlbmN5OiB7XG4gICAgICAgICAgbmFtZTogXCJFdGhlclwiLFxuICAgICAgICAgIGRlY2ltYWxzOiAxOCxcbiAgICAgICAgICBzeW1ib2w6IFwiRVRIXCJcbiAgICAgICAgfSxcbiAgICAgICAgcnBjOiBbXCJcIl0sXG4gICAgICAgIGNoYWluOiBcIlwiLFxuICAgICAgICBzaG9ydE5hbWU6IFwiXCIsXG4gICAgICAgIHRlc3RuZXQ6IHRydWVcbiAgICAgIH07XG4gICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgIC8vIGlmIGNvdWxkIG5vdCBzd2l0Y2ggdG8gZ2l2ZW4gY2hhaW5JZEhleFxuXG4gICAgICAvLyBpZiB0cmllZCB0byBjb25uZWN0IHRvIGEgY2hhaW4gdGhhdCBpcyBub3QgY29uZmlndXJlZFxuICAgICAgY29uc3QgY2hhaW4gPSB0aGlzLmNoYWlucy5maW5kKF9jaGFpbiA9PiBfY2hhaW4uY2hhaW5JZCA9PT0gY2hhaW5JZCk7XG4gICAgICBpZiAoIWNoYWluKSB7XG4gICAgICAgIHRocm93IG5ldyBDaGFpbk5vdENvbmZpZ3VyZWRFcnJvcih7XG4gICAgICAgICAgY2hhaW5JZCxcbiAgICAgICAgICBjb25uZWN0b3JJZDogdGhpcy5pZFxuICAgICAgICB9KTtcbiAgICAgIH1cblxuICAgICAgLy8gaWYgY2hhaW4gaXMgbm90IGFkZGVkIHRvIHByb3ZpZGVyXG4gICAgICBpZiAoZXJyb3IuY29kZSA9PT0gNDkwMiB8fFxuICAgICAgLy8gVW53cmFwcGluZyBmb3IgTWV0YU1hc2sgTW9iaWxlXG4gICAgICAvLyBodHRwczovL2dpdGh1Yi5jb20vTWV0YU1hc2svbWV0YW1hc2stbW9iaWxlL2lzc3Vlcy8yOTQ0I2lzc3VlY29tbWVudC05NzY5ODg3MTlcbiAgICAgIGVycm9yPy5kYXRhPy5vcmlnaW5hbEVycm9yPy5jb2RlID09PSA0OTAyKSB7XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgLy8gcmVxdWVzdCBwcm92aWRlciB0byBhZGQgY2hhaW5cbiAgICAgICAgICBhd2FpdCBwcm92aWRlci5yZXF1ZXN0KHtcbiAgICAgICAgICAgIG1ldGhvZDogXCJ3YWxsZXRfYWRkRXRoZXJldW1DaGFpblwiLFxuICAgICAgICAgICAgcGFyYW1zOiBbe1xuICAgICAgICAgICAgICBjaGFpbklkOiBjaGFpbklkSGV4LFxuICAgICAgICAgICAgICBjaGFpbk5hbWU6IGNoYWluLm5hbWUsXG4gICAgICAgICAgICAgIG5hdGl2ZUN1cnJlbmN5OiBjaGFpbi5uYXRpdmVDdXJyZW5jeSxcbiAgICAgICAgICAgICAgcnBjVXJsczogZ2V0VmFsaWRQdWJsaWNSUENVcmwoY2hhaW4pLFxuICAgICAgICAgICAgICAvLyBubyBjbGllbnQgaWQgb24gcHVycG9zZSBoZXJlXG4gICAgICAgICAgICAgIGJsb2NrRXhwbG9yZXJVcmxzOiB0aGlzLmdldEJsb2NrRXhwbG9yZXJVcmxzKGNoYWluKVxuICAgICAgICAgICAgfV1cbiAgICAgICAgICB9KTtcbiAgICAgICAgICByZXR1cm4gY2hhaW47XG4gICAgICAgIH0gY2F0Y2ggKGFkZEVycm9yKSB7XG4gICAgICAgICAgLy8gaWYgdXNlciByZWplY3RzIHJlcXVlc3QgdG8gYWRkIGNoYWluXG4gICAgICAgICAgaWYgKHRoaXMuaXNVc2VyUmVqZWN0ZWRSZXF1ZXN0RXJyb3IoYWRkRXJyb3IpKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgVXNlclJlamVjdGVkUmVxdWVzdEVycm9yKGVycm9yKTtcbiAgICAgICAgICB9XG5cbiAgICAgICAgICAvLyBlbHNlIG90aGVyIGVycm9yXG4gICAgICAgICAgdGhyb3cgbmV3IEFkZENoYWluRXJyb3IoKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgaWYgKHRoaXMuaXNVc2VyUmVqZWN0ZWRSZXF1ZXN0RXJyb3IoZXJyb3IpKSB7XG4gICAgICAgIHRocm93IG5ldyBVc2VyUmVqZWN0ZWRSZXF1ZXN0RXJyb3IoZXJyb3IpO1xuICAgICAgfVxuICAgICAgdGhyb3cgbmV3IFN3aXRjaENoYWluRXJyb3IoZXJyb3IpO1xuICAgIH1cbiAgfVxuICBhc3luYyBzZXR1cExpc3RlbmVycygpIHtcbiAgICBjb25zdCBwcm92aWRlciA9IGF3YWl0IHRoaXMuZ2V0UHJvdmlkZXIoKTtcbiAgICBpZiAocHJvdmlkZXIub24pIHtcbiAgICAgIHByb3ZpZGVyLm9uKFwiYWNjb3VudHNDaGFuZ2VkXCIsIHRoaXMub25BY2NvdW50c0NoYW5nZWQpO1xuICAgICAgcHJvdmlkZXIub24oXCJjaGFpbkNoYW5nZWRcIiwgdGhpcy5vbkNoYWluQ2hhbmdlZCk7XG4gICAgICBwcm92aWRlci5vbihcImRpc2Nvbm5lY3RcIiwgdGhpcy5vbkRpc2Nvbm5lY3QpO1xuICAgIH1cbiAgfVxuICBpc1VzZXJSZWplY3RlZFJlcXVlc3RFcnJvcihlcnJvcikge1xuICAgIHJldHVybiBlcnJvci5jb2RlID09PSA0MDAxO1xuICB9XG59XG5cbmV4cG9ydCB7IEluamVjdGVkQ29ubmVjdG9yIH07XG4iXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./node_modules/@thirdweb-dev/wallets/evm/connectors/injected/dist/thirdweb-dev-wallets-evm-connectors-injected.browser.esm.js\n"));

/***/ })

}]);